(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-caabb512"],{"139e":function(t,e,a){"use strict";var r=a("ba80");a.n(r).a},"5dbc":function(t,e,a){var r=a("d3f4"),o=a("8b97").set;t.exports=function(t,e,a){var n,i=e.constructor;return i!==a&&"function"==typeof i&&(n=i.prototype)!==a.prototype&&r(n)&&o&&o(t,n),t}},"8b97":function(t,e,a){var r=a("d3f4"),o=a("cb7c"),n=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,a){return n(t,a),e?t.__proto__=a:r(t,a),t}}({},!1):void 0),check:n}},aa77:function(t,e,a){var r=a("5ca1"),o=a("be13"),n=a("79e5"),i=a("fdef"),s="["+i+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(t,e,a){var o={},s=n((function(){return!!i[t]()||"​"!="​"[t]()})),c=o[t]=s?e(p):i[t];a&&(o[a]=c),r(r.P+r.F*s,"String",o)},p=u.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},ba80:function(t,e,a){},c2e7:function(t,e,a){"use strict";a.r(e);a("c5f6"),a("ac6a"),a("5df3"),a("1c4c");var r={data:function(){return{formdata:{in_time:"",out_time:"",provider:""},types:"load_purchase_sale",page:1,sum:1,providerOptions:[],tabledata:[],header:""}},created:function(){this.fetchList(1),this.getProviderOptions()},methods:{fetchList:function(t){var e=this,a=Object.assign({},this.formdata,{types:this.types,page:t||this.page});this.$axios.post("/NewJMConsumeYDSJL/Mall.ashx",a).then((function(t){e.headers="".concat(e.$moment(e.formdata.order_date),"——").concat(e.formdata.tran_date),e.tabledata=Array.from(t.data.data),e.sum=t.data.sum})).catch((function(t){return console.log(t)}))},queryList:function(){var t=this,e=Object.assign({},this.formdata,{types:this.types,page:this.page});this.$axios.post("/NewJMConsumeYDSJL/Mall.ashx",e).then((function(e){t.tabledata=Array.from(e.data.data),t.sum=e.data.sum,t.$refs.formdata.resetFields()})).catch((function(t){return console.log(t)}))},exportExcel:function(){this.$axios.post("/NewJMConsumeYDSJL/Mall.ashx",Object.assign({},this.formdata,{btn_type:"导出",page:this.page,types:this.types})).then((function(t){window.open(t.data.data)})).catch((function(t){return console.log(t)}))},getProviderOptions:function(){var t=this;this.$axios.get("/NewJMConsumeYDSJL/Mall.ashx?types=get_ps_provider").then((function(e){t.providerOptions=Array.from(e.data.data),t.providerOptions.unshift({provider:"全部"})})).catch((function(t){return console.log(t)}))},getSummaries:function(t){var e=t.columns,a=t.data,r=[];return e.forEach((function(t,e){if(0!==e){var o=a.map((function(e){return Number(e[t.property])}));o.every((function(t){return isNaN(t)}))?r[e]="N/A":r[e]=o.reduce((function(t,e){var a=Number(e);return isNaN(a)?t:t+e}),0)}else r[e]="合计"})),r}}},o=(a("139e"),a("2877")),n=Object(o.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"output"},[a("div",{staticClass:"main"},[a("div",{staticClass:"main-header"},[a("div",{staticClass:"nav-title"},[t._v("进销统计报表")]),a("el-divider"),a("el-form",{ref:"formdata",attrs:{inline:!0,model:t.formdata}},[a("el-form-item",{attrs:{label:"开始"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime"},model:{value:t.formdata.in_time,callback:function(e){t.$set(t.formdata,"in_time",e)},expression:"formdata.in_time"}})],1),a("el-form-item",{attrs:{label:"结束"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime"},model:{value:t.formdata.out_time,callback:function(e){t.$set(t.formdata,"out_time",e)},expression:"formdata.out_time"}})],1),a("el-form-item",{attrs:{label:"供销商"}},[a("el-select",{model:{value:t.formdata.provider,callback:function(e){t.$set(t.formdata,"provider",e)},expression:"formdata.provider"}},t._l(t.providerOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.provider,value:t.provider}})})),1)],1),a("el-button",{on:{click:t.queryList}},[t._v("查询")]),a("el-button",{on:{click:t.exportExcel}},[t._v("导出")])],1)],1),a("div",{staticClass:"main-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tabledata,"summary-method":t.getSummaries,"show-summary":""}},[a("el-table-column",{attrs:{label:"供应商",prop:"provider"}}),a("el-table-column",{attrs:{label:"名称 ",prop:"goods_name"}}),a("el-table-column",{attrs:{label:"单价(元)",prop:"goods_price"}}),a("el-table-column",{attrs:{label:"总进货量",prop:"goods_total"}}),a("el-table-column",{attrs:{label:"总销售量",prop:"quantity"}}),a("el-table-column",{attrs:{label:"库存量",prop:"real_total"}}),a("el-table-column",{attrs:{label:"总销售额(元)",prop:"sales_volume"}})],1),a("el-pagination",{staticStyle:{width:"100%","text-align":"center"},attrs:{background:"",layout:"prev, pager, next",total:t.sum,"page-size":10,"current-page":this.formdata.page},on:{"current-change":t.fetchList,"prev-click":t.fetchList,"next-click":t.fetchList}})],1)])])}),[],!1,null,"71084a54",null);e.default=n.exports},c5f6:function(t,e,a){"use strict";var r=a("7726"),o=a("69a8"),n=a("2d95"),i=a("5dbc"),s=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,p=a("86cc").f,f=a("aa77").trim,d=r.Number,m=d,h=d.prototype,b="Number"==n(a("2aeb")(h)),v="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var a,r,o,n=(e=v?e.trim():f(e,3)).charCodeAt(0);if(43===n||45===n){if(88===(a=e.charCodeAt(2))||120===a)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var i,c=e.slice(2),l=0,u=c.length;l<u;l++)if((i=c.charCodeAt(l))<48||i>o)return NaN;return parseInt(c,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof d&&(b?c((function(){h.valueOf.call(a)})):"Number"!=n(a))?i(new m(y(e)),a,d):y(e)};for(var _,g=a("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;g.length>N;N++)o(m,_=g[N])&&!o(d,_)&&p(d,_,u(m,_));d.prototype=h,h.constructor=d,a("2aba")(r,"Number",d)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);